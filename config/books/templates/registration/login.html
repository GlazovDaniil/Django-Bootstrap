{% extends "books/base.html" %}
{% load static %}
{% block style %}
    <style>
        .footer {
          position: absolute;
          left: 0;
          bottom: 0;
          width: 100%;
          height: 114px;
        }
    </style>
{% endblock style %}
{% block content %}
    {% if form.errors %}
        <p>Ваше имя пользователя и пароль не совпали. Пожалуйста, попробуйте еще раз.</p>
    {% endif %}

    {% if next %}
        {% if user.is_authenticated %}
            <p>Вы не имеете доступа к этой странице. Войдите в систему с другими параметра</p>
        {% else %}
            <p>Войдите в систему, чтобы увидеть эту страницу.</p>
        {% endif %}
    {% endif %}
    <main class="form-signin w-25 m-auto mt-5 mb-5">
      <form method="post" action="{% url 'login' %}">
          {% csrf_token %}
        <img class="mb-4 rounded mx-auto d-block" src="{% static 'images/logo4.png' %}" alt="" width="100" height="100">
        <h1 class="h3 mb-3 fw-normal">Введите логин и пароль</h1>

        <div class="form-floating mb-3">

          <input type="text" name="username" autofocus autocapitalize="none" autocomplete="username" maxlength="150" class="form-control" required id="id_username" placeholder="name@example.com">
          <label for="id_username">Логин</label>
        </div>
        <div class="form-floating">
          <input type="password" name="password" autocomplete="current-password" class="form-control" required id="id_password" placeholder="Password">
          <label for="id_password">Пароль</label>
        </div>

        <div class="form-check text-start my-3 ">
          <input class="form-check-input" type="checkbox" value="remember-me" id="flexCheckDefault">
          <label class="form-check-label" for="flexCheckDefault">
            Запомните меня...
          </label>
        </div>
        <button class="btn btn-primary w-100 py-2" type="submit">Войти</button>
          <p class="mt-1 text-body-secondary"><a href="{% url 'password_reset' %}">Забыли пароль?</a></p>
      </form>
    </main>
{% endblock content %}
{% block books %}{% endblock books %}
